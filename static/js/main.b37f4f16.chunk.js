(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),i=(n(6),[{type:"spade",number:"1",color:"black",background:"AS.png"},{type:"spade",number:"2",color:"black",background:"2S.png"},{type:"spade",number:"3",color:"black",background:"3S.png"},{type:"spade",number:"4",color:"black",background:"4S.png"},{type:"spade",number:"5",color:"black",background:"5S.png"},{type:"spade",number:"6",color:"black",background:"6S.png"},{type:"spade",number:"7",color:"black",background:"7S.png"},{type:"spade",number:"8",color:"black",background:"8S.png"},{type:"spade",number:"9",color:"black",background:"9S.png"},{type:"spade",number:"10",color:"black",background:"10S.png"},{type:"spade",number:"11",color:"black",background:"JS.png"},{type:"spade",number:"12",color:"black",background:"QS.png"},{type:"spade",number:"13",color:"black",background:"KS.png"},{type:"club",number:"1",color:"black",background:"AC.png"},{type:"club",number:"2",color:"black",background:"2C.png"},{type:"club",number:"3",color:"black",background:"3C.png"},{type:"club",number:"4",color:"black",background:"4C.png"},{type:"club",number:"5",color:"black",background:"5C.png"},{type:"club",number:"6",color:"black",background:"6C.png"},{type:"club",number:"7",color:"black",background:"7C.png"},{type:"club",number:"8",color:"black",background:"8C.png"},{type:"club",number:"9",color:"black",background:"9C.png"},{type:"club",number:"10",color:"black",background:"10C.png"},{type:"club",number:"11",color:"black",background:"JC.png"},{type:"club",number:"12",color:"black",background:"QC.png"},{type:"club",number:"13",color:"black",background:"KC.png"},{type:"diamond",number:"1",color:"red",background:"AD.png"},{type:"diamond",number:"2",color:"red",background:"2D.png"},{type:"diamond",number:"3",color:"red",background:"3D.png"},{type:"diamond",number:"4",color:"red",background:"4D.png"},{type:"diamond",number:"5",color:"red",background:"5D.png"},{type:"diamond",number:"6",color:"red",background:"6D.png"},{type:"diamond",number:"7",color:"red",background:"7D.png"},{type:"diamond",number:"8",color:"red",background:"8D.png"},{type:"diamond",number:"9",color:"red",background:"9D.png"},{type:"diamond",number:"10",color:"red",background:"10D.png"},{type:"diamond",number:"11",color:"red",background:"JD.png"},{type:"diamond",number:"12",color:"red",background:"QD.png"},{type:"diamond",number:"13",color:"red",background:"KD.png"},{type:"heart",number:"1",color:"red",background:"AH.png"},{type:"heart",number:"2",color:"red",background:"2H.png"},{type:"heart",number:"3",color:"red",background:"3H.png"},{type:"heart",number:"4",color:"red",background:"4H.png"},{type:"heart",number:"5",color:"red",background:"5H.png"},{type:"heart",number:"6",color:"red",background:"6H.png"},{type:"heart",number:"7",color:"red",background:"7H.png"},{type:"heart",number:"8",color:"red",background:"8H.png"},{type:"heart",number:"9",color:"red",background:"9H.png"},{type:"heart",number:"10",color:"red",background:"10H.png"},{type:"heart",number:"11",color:"red",background:"JH.png"},{type:"heart",number:"12",color:"red",background:"QH.png"},{type:"heart",number:"13",color:"red",background:"KH.png"}]),u=n(7),s=n(1),d=n(2),l=n(4),p=n(3),b=n(5),g=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id)}},{key:"isDraggable",value:function(){return this.props.data.visible}},{key:"getId",value:function(){var e=this.props.data;return"".concat(this.props.id,"_").concat(e.type,"_").concat(e.number)}},{key:"getCardId",value:function(){var e=this.props.data;return"".concat(this.props.id,"_card_").concat(e.type,"_").concat(e.number)}},{key:"getHeight",value:function(){return this.props.height+"px"}},{key:"getPositionTop",value:function(){return this.props.top+"px"}},{key:"getImg",value:function(){var e=this.props.data;return e.visible?"url(./cards_img/".concat(e.background,")"):"url(./cards_img/back_card.png)"}},{key:"render",value:function(){return r.a.createElement("div",{className:"card_container",style:{top:this.getPositionTop(),height:this.getHeight()},id:this.getId(),draggable:this.isDraggable.call(this),onDragStart:this.drag.bind(this)},r.a.createElement("div",{id:this.getCardId(),className:"card",style:{backgroundImage:this.getImg()}}))}}]),t}(r.a.Component),h=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getPile",value:function(e,t){var n=e.map(function(e){var n="".concat(e.type,"_").concat(e.number);return r.a.createElement(g,{key:n,id:"wastePile_".concat(t),data:e})});return r.a.createElement("div",{className:"waste-pile",onClick:this.props.func.bind(null,t),id:"wastePile_".concat(t),key:"wastePile_".concat(t)},n)}},{key:"render",value:function(){var e=this.props.cards.map(this.getPile,this);return r.a.createElement("div",{className:"waste-pile-container",id:"wastePile_0_container"},e)}}]),t}(r.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getPile",value:function(){var e=this;return this.props.cards.map(function(t){var n="".concat(t.type,"_").concat(t.number);return r.a.createElement(g,{key:n,id:e.props.id,data:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"foundationPile",id:this.props.id},this.getPile())}}]),t}(r.a.Component),m=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"foundation"},r.a.createElement(k,{key:"foundation_0",id:"foundation_0",cards:this.props.cards[0]}),r.a.createElement(k,{key:"foundation_1",id:"foundation_1",cards:this.props.cards[1]}),r.a.createElement(k,{key:"foundation_2",id:"foundation_2",cards:this.props.cards[2]}),r.a.createElement(k,{key:"foundation_3",id:"foundation_3",cards:this.props.cards[3]}))}}]),t}(r.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"_showLastCard",value:function(e){return e.length<1?e:(e[e.length-1].visible=!0,e)}},{key:"_getHeight",value:function(e){return 40*(this.props.cards.length-e)+160}},{key:"getPile",value:function(){var e=1,t=-40;return this._showLastCard(this.props.cards).map(function(n){var a="".concat(n.type,"_").concat(n.number);return t+=40,r.a.createElement(g,{key:a,id:this.props.id,height:this._getHeight(e),top:t,zindex:e++,data:n})},this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"tableauPile",id:this.props.id},this.getPile())}}]),t}(r.a.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"splitCards",value:function(){return this.props.cards.map(function(e,t){return r.a.createElement(y,{key:"tableau_".concat(t),id:"tableau_".concat(t),cards:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"bottom-part"},this.splitCards())}}]),t}(r.a.Component),v=n(11),O=n.n(v),C=function(){function e(t){Object(s.a)(this,e),this.cards=O.a.shuffle(t),this.wastePile=this.cards.slice(0,24),this.tableauPile=this.cards.slice(24)}return Object(d.a)(e,[{key:"hideCards",value:function(e){return e.map(function(e){return e.visible=!1,e})}},{key:"getWastePile",value:function(){return[this.hideCards(this.wastePile),[]]}},{key:"_splitCards",value:function(){var e=this.tableauPile.slice();return[1,2,3,4,5,6,7].map(function(t){var n=this.hideCards(e.slice(0,t));return e=e.slice(t),n},this)}},{key:"getTableauPile",value:function(){return this._splitCards()}},{key:"getFoundationPile",value:function(){return[[],[],[],[]]}}]),e}(),_=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).deck=new C(e.cards),n.state={wastePile:n.deck.getWastePile(),foundation:n.deck.getFoundationPile(),tableau:n.deck.getTableauPile()},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"_showCard",value:function(e){return e.visible=!0,e}},{key:"_hideCard",value:function(e){return e.visible=!1,e}},{key:"handleOnClick",value:function(e){if(0==e){var t=Object.assign({},this.state),n=t.wastePile,a=n[0];if(0==a.length)return n[0]=a.concat(n[1].map(this._hideCard)),n[1]=[],void this.setState(function(){return t});var r=this._showCard(a.pop());n[1].push(r),this.setState(function(){return t})}}},{key:"_getCardById",value:function(e){var t=this.parseId(e),n=t.type,a=t.number;return this.props.cards.filter(function(e){return e.type==n&&e.number==a})[0]}},{key:"_findCardAndRemove",value:function(e){var t=this.parseId(e),n=t.typeOfPile,a=t.pileIndex,r=Object.assign({},this.state),o=r[n][a],c=o.indexOf(this._getCardById(e));return r[n][a]=o.slice(0,c),r}},{key:"parseId",value:function(e){var t=e.split("_").slice(0,2),n=Object(u.a)(t,2),a=n[0],r=n[1],o=e.split("_").slice(-2),c=Object(u.a)(o,2);return{typeOfPile:a,pileIndex:r,type:c[0],number:c[1]}}},{key:"_getAllCardsBelow",value:function(e){var t=this.parseId(e),n=t.typeOfPile,a=t.pileIndex,r=this.state[n][a],o=r.indexOf(this._getCardById(e));return r.slice(o)}},{key:"updateFoundation",value:function(e,t){var n=this.parseId(e),a=n.typeOfPile,r=n.pileIndex,o=this.state[a][r],c=this._getCardById(t),i=o[o.length-1];if((i||"1"==c.number)&&(!i||this.isAbleToGoInFoundation(i,c))){var u=this._getAllCardsBelow(t);if(1==u.length){var s=this._findCardAndRemove(t);s[a][r].push(u[0]),this.setState(function(e){return s})}}}},{key:"hasNextRank",value:function(e,t){return+e.number==+t.number+1}},{key:"isOfSameColor",value:function(e,t){return e.color==t.color}},{key:"isNotAbleToDrop",value:function(e,t){return!this.hasNextRank(e,t)||this.isOfSameColor(e,t)}},{key:"isOfSameSuite",value:function(e,t){return e.type==t.type}},{key:"isAbleToGoInFoundation",value:function(e,t){return this.isOfSameSuite(e,t)&&this.hasNextRank(t,e)}},{key:"updateTableau",value:function(e,t){var n=this.parseId(e),a=n.typeOfPile,r=n.pileIndex,o=this.state[a][r],c=this._getCardById(t),i=o[o.length-1];if((i||"13"==c.number)&&(!i||!this.isNotAbleToDrop(i,c))){var u=this._getAllCardsBelow(t),s=this._findCardAndRemove(t);s[a][r]=s[a][r].concat(u),this.setState(function(e){return s})}}},{key:"updatePiles",value:function(e,t){var n=this.parseId(e).typeOfPile;"foundation"==n&&this.updateFoundation(e,t),"tableau"==n&&this.updateTableau(e,t)}},{key:"isWon",value:function(){return 52==this.state.foundation.reduce(function(e,t){return e+t.length},0)}},{key:"showWinning",value:function(){document.getElementById("overlay").style.display="flex",document.getElementById("pop-up-container").style.display="flex"}},{key:"drop",value:function(e){e.preventDefault();var t=e.target.id,n=e.dataTransfer.getData("id");this.updatePiles(t,n),this.isWon()&&this.showWinning()}},{key:"getAllComponents",value:function(){return r.a.createElement("div",{className:"game",onDrop:this.drop.bind(this),onDragOver:this.allowDrop},r.a.createElement("div",{className:"top-part"},r.a.createElement(h,{cards:this.state.wastePile,func:this.handleOnClick.bind(this)}),r.a.createElement(m,{cards:this.state.foundation})),r.a.createElement(f,{cards:this.state.tableau}))}},{key:"render",value:function(){return this.getAllComponents()}}]),t}(r.a.Component);c.a.render(r.a.createElement(_,{cards:i}),document.getElementById("root"))},6:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.b37f4f16.chunk.js.map